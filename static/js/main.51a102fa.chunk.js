(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n,r,i,c,l,o,s,u,h,m=a(0),b=a.n(m),f=a(14),p=a.n(f),v=a(16),d=(a(73),a(74),a(15)),E=a(21),D=a.n(E),j=a(27),w=a(12),O=a(17),g=a(13),y=(a(76),a(35)),C=a.n(y),S=a(2),k=a(51),x=a(36),z=a.n(x);function I(e){return z()(1e3*e).format("YYYY-MM-DD")}var W=(n=function e(){var t=this;Object(d.a)(this,e),Object(O.a)(this,"weatherData",void 0),Object(w.a)(this,"isCelcius",r,this),Object(w.a)(this,"visibleWeatherData",i,this),Object(w.a)(this,"isRefreshing",c,this),Object(O.a)(this,"fetchWeatherData",function(){var e=Object(j.a)(D.a.mark((function e(a){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a?"metric":"imperial",e.prev=1,t.source=C.a.CancelToken.source(),e.next=5,C.a.get("http://api.openweathermap.org/data/2.5/forecast?q=Kathmandu&units=".concat(n,"&APPID=").concat(k.appId));case 5:r=e.sent,t.filterAndSetData(r.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(w.a)(this,"filterAndSetData",l,this),Object(w.a)(this,"onVisibleDateForward",o,this),Object(w.a)(this,"onVisibleDateBack",s,this),Object(O.a)(this,"resetVisibleDate",(function(){t.visibleWeatherData=t.weatherData.slice(t.visibleDateStart,t.visibleDateEnd)})),Object(w.a)(this,"setIsCelcius",u,this),Object(w.a)(this,"setIsRefreshing",h,this),this.visibleDateEnd=3,this.visibleDateStart=0,Object(S.m)(this)},r=Object(g.a)(n.prototype,"isCelcius",[S.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(g.a)(n.prototype,"visibleWeatherData",[S.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(g.a)(n.prototype,"isRefreshing",[S.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object(g.a)(n.prototype,"filterAndSetData",[S.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=[];t.list.forEach((function(t,n){var r=t.dt;if(e.prevDate&&function(e,t){var a=I(e),n=I(t);return z()(a).isSame(n,"day")}(e.prevDate,t.dt))return null;e.prevDate=r,a.push(t)})),e.weatherData=a,e.visibleWeatherData=a.slice(e.visibleDateStart,e.visibleDateEnd)}}}),o=Object(g.a)(n.prototype,"onVisibleDateForward",[S.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.visibleDateEnd!==e.weatherData.length&&(e.visibleDateEnd++,e.visibleDateStart++,e.resetVisibleDate())}}}),s=Object(g.a)(n.prototype,"onVisibleDateBack",[S.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){0!==e.visibleDateStart&&(e.visibleDateEnd--,e.visibleDateStart--,e.resetVisibleDate())}}}),u=Object(g.a)(n.prototype,"setIsCelcius",[S.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.isCelcius=t}}}),h=Object(g.a)(n.prototype,"setIsRefreshing",[S.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.isRefreshing=t}}}),n),N=a(28),B=a(31),R=a(33),V=a(124),A=a(126),F=a(23),M=a(129),Y=a(102),L=a(53),_=a.n(L),G=a(125),H=a(128),J=a(54),P=a.n(J),q=a(127),K=a(120),T=a(123),$=a(103),Q=a(118),U=a(122),X=a(121),Z=Object(Q.a)({root:{padding:5,minWidth:120},title:{fontSize:14},pos:{marginBottom:12}});function ee(e){var t=e.convertedDate,a=e.isCelcius,n=e.temp,r=e.humidity,i=Z();return b.a.createElement(K.a,{className:i.root,variant:"outlined"},b.a.createElement(X.a,null,b.a.createElement($.a,{className:i.title,color:"textSecondary",gutterBottom:!0},t),b.a.createElement($.a,{variant:"h6",component:"h6"},n,a?"\u02daC":"\u02daF"),b.a.createElement($.a,{className:i.pos,color:"textSecondary"},"Humidity - ",r)),b.a.createElement(U.a,{onClick:function(){return alert("Go to weather app for more info")}},b.a.createElement(T.a,{size:"small"},"Learn More")))}var te,ae=Object(Q.a)({root:{padding:5,minWidth:120},title:{fontSize:14},pos:{marginBottom:12}});function ne(e){var t=e.isCelcius,a=ae();return b.a.createElement(K.a,{className:a.root,variant:"outlined"},b.a.createElement(X.a,null,b.a.createElement($.a,{className:a.title,color:"textSecondary",gutterBottom:!0},".........."),b.a.createElement($.a,{variant:"h6",component:"h6"},"--",t?"\u02daC":"\u02daF"),b.a.createElement($.a,{className:a.pos,color:"textSecondary"},"Humidity - ....")),b.a.createElement(U.a,{onClick:function(){return alert("Go to weather app for more info")}},b.a.createElement(T.a,{size:"small"},"Learn More")))}var re,ie=Object(v.b)("weatherStore")(te=Object(v.c)(te=function(e){Object(R.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(F.a)(e),"_setIsCelcius",function(){var t=Object(j.a)(D.a.mark((function t(a){var n,r,i,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.weatherStore,r=n.fetchWeatherData,i=n.setIsCelcius,c=n.setIsRefreshing,i(a),c(),t.next=5,r(a);case 5:c(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(F.a)(e),"setIsRefreshing",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.setState({isRefreshing:t})})),e}return Object(N.a)(a,[{key:"render",value:function(){var e=this,t=this.props.weatherStore,a=t.isCelcius,n=t.isRefreshing,r=t.onVisibleDateBack,i=t.visibleWeatherData,c=t.onVisibleDateForward;return b.a.createElement(V.a,null,b.a.createElement("h1",{className:"mt-3"},"Weather App"),b.a.createElement(Y.a,{className:"p-3 p-md-5 mt-4"},b.a.createElement(G.a,null,b.a.createElement(A.a,{className:"d-flex justify-content-center"},b.a.createElement(q.a,{value:"celcius",label:"Celcius",checked:a,control:b.a.createElement(M.a,null),onChange:function(t){return e._setIsCelcius(!0)}})),b.a.createElement(A.a,{className:"d-flex justify-content-center"},b.a.createElement(q.a,{value:"fahrenheit",label:"Fahrenheit",control:b.a.createElement(M.a,null),checked:!a,onChange:function(t){return e._setIsCelcius(!1)}}))),b.a.createElement(G.a,{className:"d-flex my-3 justify-content-between"},b.a.createElement(H.a,{size:"medium",onClick:function(){return r()}},b.a.createElement(_.a,null)),b.a.createElement(H.a,{size:"medium",onClick:function(){return c()}},b.a.createElement(P.a,null))),n?b.a.createElement(G.a,null,b.a.createElement(A.a,null,b.a.createElement(ne,{isCelcius:a})),b.a.createElement(A.a,null,b.a.createElement(ne,{isCelcius:a})),b.a.createElement(A.a,null,b.a.createElement(ne,{isCelcius:a}))):b.a.createElement(G.a,null,i.map((function(e,t){var n=e.dt,r=new Date(1e3*n);return b.a.createElement(A.a,{key:n},b.a.createElement(ee,{temp:e.main.temp,isCelcius:a,humidity:e.main.humidity,convertedDate:r.toDateString()}))})))))}}]),a}(b.a.Component))||te)||te,ce=Object(v.b)("weatherStore")(re=Object(v.c)(re=function(e){Object(R.a)(a,e);var t=Object(B.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.weatherStore.fetchWeatherData)()}},{key:"render",value:function(){return this.props.weatherStore.visibleWeatherData?b.a.createElement(ie,null):b.a.createElement(V.a,{className:"h-100"},b.a.createElement(A.a,{className:"h-100 d-flex justify-content-center align-items-center"},b.a.createElement("p",null,"Loading\u2026")))}}]),a}(m.Component))||re)||re;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=new function e(){Object(d.a)(this,e),this.weatherStore=new W(this)};p.a.render(b.a.createElement(v.a,{rootStore:le,weatherStore:le.weatherStore},b.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t){e.exports={appId:"a44c63bf4a70d8d8dd6758497afce4ec"}},68:function(e,t,a){e.exports=a(101)},74:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.51a102fa.chunk.js.map